<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <meta charset="UTF-8">
  <title>ê²€ìƒ‰ ê²°ê³¼</title>
</head>
<body>

<main layout:fragment="content" class="search-result-container">

    <div class="main-content">

      <div class="search-container">
        <form id="searchForm" th:action="@{/search}" method="get">
          <input type="text" id="search-input" name="contentName" placeholder="ì›í•˜ëŠ” ìŒì•…,ì˜í™”,ë„ì„œë¥¼ ì°¾ì•„ë³´ì„¸ìš”!">
          <button type="submit">ê²€ìƒ‰</button>
        </form>
      </div>

      <br>

      <!-- ì¹´í…Œê³ ë¦¬ ë©”ë‰´ -->
      <div class="menu">
        <button onclick="showCategory('movie')">ğŸ¬ ì˜í™”</button>
        <button onclick="showCategory('music')">ğŸ§ ìŒì•…</button>
        <button onclick="showCategory('book')">ğŸ“š ë„ì„œ</button>
      </div>

  <!-- contentName ì´ ë¹„ì—ˆì„ ë•Œ -->
  <h4 th:if="${#strings.isEmpty(contentName)}">ì „ì²´ ê²€ìƒ‰ê²°ê³¼ì…ë‹ˆë‹¤.</h4>

  <!-- contentName ì´ ìˆì„ ë•Œ -->
  <h4 th:unless="${#strings.isEmpty(contentName)}">
    "<span th:text="${contentName}"></span>" ì— ëŒ€í•œ ê²€ìƒ‰ê²°ê³¼ì…ë‹ˆë‹¤.
  </h4>



  <!-- ì˜í™” -->
  <div class="category" id="movie">
    <div id = movieGenre>
      <button class = "genre-btn" data-type="movie" data-genre="ë™í™”">ë™í™”</button>
      <button class = "genre-btn" data-type="movie" data-genre="ë¼ì´íŠ¸ë…¸ë²¨">ë¼ì´íŠ¸ë…¸ë²¨</button>
      <button class = "genre-btn" data-type="movie" data-genre="ë¬´í˜‘ì†Œì„¤">ë¬´í˜‘ì†Œì„¤</button>
      <button class = "genre-btn" data-type="movie" data-genre="ìˆ˜í•„">ìˆ˜í•„</button>
      <button class = "genre-btn" data-type="movie" data-genre="ìŠ¤ë¦´ëŸ¬">ìŠ¤ë¦´ëŸ¬</button>
      <button class = "genre-btn" data-type="movie" data-genre="ì‹œì§‘">ì‹œì§‘</button>
      <button class = "genre-btn" data-type="movie" data-genre="ì¶”ë¦¬ì†Œì„¤">ì¶”ë¦¬ì†Œì„¤</button>
      <button class = "genre-btn" data-type="movie" data-genre="íŒíƒ€ì§€ì†Œì„¤">íŒíƒ€ì§€ì†Œì„¤</button>
      <button class = "genre-btn" data-type="movie" data-genre="í”„ë¡œê·¸ë˜ë°">í”„ë¡œê·¸ë˜ë°</button>
      <button class = "genre-btn" data-type="movie" data-genre="ì¸ë¬¸í•™">ì¸ë¬¸í•™</button>
      <button class = "genre-btn" data-type="movie" data-genre="ì‹¬ë¦¬í•™">ì‹¬ë¦¬í•™</button>
      <button class = "genre-btn" data-type="movie" data-genre="ë¬¸í™”ì¸ë¥˜í•™">ë¬¸í™”ì¸ë¥˜í•™</button>
      <button class = "genre-btn" data-type="movie" data-genre="ì¢…êµí•™">ì¢…êµí•™</button>
      <button class = "genre-btn" data-type="movie" data-genre="í•œêµ­ì†Œì„¤">í•œêµ­ì†Œì„¤</button>
      <button class = "genre-btn" data-type="movie" data-genre="ì™¸êµ­ì†Œì„¤">ì™¸êµ­ì†Œì„¤</button>
      <button class = "genre-btn" data-type="movie" data-genre="ê³ ì „ë¬¸í•™">ê³ ì „ë¬¸í•™</button>
      <button class = "genre-btn" data-type="movie" data-genre="í˜„ëŒ€ë¬¸í•™">í˜„ëŒ€ë¬¸í•™</button>
      <button class = "genre-btn" data-type="movie" data-genre="ì‚¬íšŒí•™">ì‚¬íšŒí•™</button>


    </div>
<!--    <h3><span class="highlight">ì˜í™”</span> ê²€ìƒ‰ ê²°ê³¼</h3>  -->
    <div th:if="${movie.size() > 0}" class="card-container">
      <div th:each="m : ${movie}" class="card-movie"
           th:attr="onclick='showDetailModalMovie(' +
                 '\'' + ${#strings.escapeJavaScript(m.title)} + '\',' +
                 '\'' + ${#strings.escapeJavaScript(m.releaseDate)} + '\',' +
                 '\'' + ${#strings.escapeJavaScript(m.summary)} + '\',' +
                 '\'' + ${#strings.escapeJavaScript(m.thumbnail)} + '\'' +
                 ')'"
      >
        <img th:src="${m.thumbnail}" alt="ì˜í™” ì¸ë„¤ì¼" class="card-thumbnail"/>
      </div>
    </div><br><br><br><br>
    <div th:if="${movie.size() == 0}"><h4>ê²€ìƒ‰ ìë£Œê°€ ì—†ìŠµë‹ˆë‹¤.</h4></div>
  </div>
      <!-- ì˜í™” ëª¨ë‹¬ -->
      <div class = "detailMovieModal" id="movieDetailModal" onclick="if(event.target===this){closeMovieModal()}">
        <div class="search-modal-content">
          <img id="movieBg" class="modal-bg" src="" alt="ë°°ê²½"/>
          <div class="modal-info">
            <span class="modal-close" onclick="closeMovieModal()">Ã—</span>
            <h1 id="movieTitle" class="modal-title"></h1>
            <ul class="modal-badges">
              <li id="movieYear"></li>
              <!--          <li id="modalGenre">ì¥ë¥´</li>-->
            </ul>
            <p id="movieSummary" class="modal-summary"></p>
            <button id="modalSearchMovieBtn" onclick="showMovieTrailer(document.getElementById('movieTitle').innerText)">ì˜ˆê³ í¸ ë³´ê¸°</button>
            <button id="modalBuyMovieBtn" onclick="youtubeMovie(document.getElementById('movieTitle').innerText)">ì˜í™” ë³´ëŸ¬ê°€ê¸°</button>
          </div>
        </div>
      </div>

      <!-- ì˜í™” ì˜ˆê³ í¸ ìœ íŠœë¸Œ iframe -->
      <div class="category" id="music">

          <button class = "genre-btn" data-type="music" data-genre="ë°œë¼ë“œ">ë°œë¼ë“œ</button>
          <button class = "genre-btn" data-type="music" data-genre="ëŒ„ìŠ¤">ëŒ„ìŠ¤</button>
          <button class = "genre-btn" data-type="music" data-genre="í™í•©">í™í•©</button>
          <button class = "genre-btn" data-type="music" data-genre="R&B">R&B</button>
          <button class = "genre-btn" data-type="music" data-genre="ì¸ë””ìŒì•…">ì¸ë””ìŒì•…</button>
          <button class = "genre-btn" data-type="music" data-genre="ë¡/ë©”íƒˆ">ë¡/ë©”íƒˆ</button>
          <button class = "genre-btn" data-type="music" data-genre="íŠ¸ë¡œíŠ¸">íŠ¸ë¡œíŠ¸</button>
          <button class = "genre-btn" data-type="music" data-genre="í¬í¬/ë¸”ë£¨ìŠ¤">í¬í¬/ë¸”ë£¨ìŠ¤</button>


        <!--    <h3><span class="highlight">ìŒì•…</span> ê²€ìƒ‰ ê²°ê³¼</h3>-->
        <div th:if="${music.size() > 0}" class="card-container">
          <div th:each="m : ${music}" class="card-music"
               th:attr = "onclick=
             'showDetailModalMusic(' +
               '\'' + ${#strings.escapeJavaScript(m.title)} + '\',' +
               '\'' + ${#strings.escapeJavaScript(m.releaseDate)} + '\',' +
               '\'' + ${#strings.escapeJavaScript(m.lyrics)} + '\',' +
               '\'' + ${#strings.escapeJavaScript(m.thumbnail)} + '\',' +
               '\'' + ${#strings.escapeJavaScript(m.singer)} + '\',' +
             ')'"
          >
            <img th:src="${m.thumbnail}" alt="ìŒì•… ì¸ë„¤ì¼" class="card-thumbnail music-thumb"/>
          </div>
        </div><br><br><br><br>
        <div th:if="${music.size() == 0}"><h4>ê²€ìƒ‰ ìë£Œê°€ ì—†ìŠµë‹ˆë‹¤.</h4></div>
      </div>

  <!-- ìŒì•… -->
      <div id="trailerMovieModal" class="trailer-modal" style="display:none;" onclick="handleModalBackgroundClick(event)">
        <div class="trailer-modal-content">
          <span class="trailer-modal-close" onclick="closeTrailerModal('trailerMovieModal', 'trailerMovieIframe')">Ã—</span>
          <iframe id = "trailerMovieIframe" class="trailerIframe" width="1280" height="720" frameborder="0"
                  allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>

      <!-- ìŒì•… ëª¨ë‹¬ -->
      <div class = "detailMusicModal" id="musicDetailModal" onclick="if(event.target===this){closeMusicModal()}">
        <div class="search-modal-content">
          <img id="musicBg" class="modal-bg" src="" alt="ë°°ê²½"/>
          <div class="modal-info">
            <span class="modal-close" onclick="closeMusicModal()">Ã—</span>
            <h1 id="musicTitle" class="modal-title"></h1>
            <ul class="modal-badges">
              <li id="musicYear"></li>
              <li id="singer"></li>
              <!--          <li id="modalGenre">ì¥ë¥´</li>-->
            </ul>
            <h5><p id="musicDes"></p></h5>
            <p id="musicSummary" class="modal-summary"></p>
            <button id="modalSearchMusicBtn" onclick="showMusicTrailer(document.getElementById('musicTitle').innerText)">ë®¤ì§ë¹„ë””ì˜¤ ë³´ê¸°</button>

          </div>
        </div>
      </div>

      <!-- ìŒì•… ê°ìƒ ìœ íŠœë¸Œ iframe -->
      <div id="trailerMusicModal" class="trailer-modal" style="display:none;" onclick="handleModalBackgroundClick(event)">
        <div class="trailer-modal-content">
          <span class="trailer-modal-close" onclick="closeTrailerModal('trailerMusicModal', 'trailerMusicIframe')">Ã—</span>
          <iframe id = "trailerMusicIframe" class="trailerIframe" width="1280" height="720" frameborder="0"
                  allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>


  <!-- ë„ì„œ -->
  <div class="category" id="book">

    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ë™í™”</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ë¼ì´íŠ¸ë…¸ë²¨</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ë¬´í˜‘ì†Œì„¤</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ìˆ˜í•„</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ì‹œì§‘</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ì¶”ë¦¬ì†Œì„¤</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">íŒíƒ€ì§€ì†Œì„¤</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">í”„ë¡œê·¸ë˜ë°</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ì¸ë¬¸í•™</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ì‹¬ë¦¬í•™</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ì² í•™</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ë¬¸í™”ì¸ë¥˜í•™</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ì¢…êµí•™</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">í•œêµ­ì†Œì„¤</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ì™¸êµ­ì†Œì„¤</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ê³ ì „ë¬¸í•™</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">í˜„ëŒ€ë¬¸í•™</button>
    <button class = "genre-btn" data-type="book" data-genre="ë°œë¼ë“œ">ì‚¬íšŒí•™</button>

    <!--    <h3><span class="highlight">ë„ì„œ</span> ê²€ìƒ‰ ê²°ê³¼</h3>-->
    <div th:if="${book.size() > 0}" class="card-container">
      <div th:each="b : ${book}" class="card-book"
           th:attr = "onclick=
             'showDetailModalBook(' +
               '\'' + ${#strings.escapeJavaScript(b.title)} + '\',' +
               '\'' + ${#strings.escapeJavaScript(b.publishedDate)} + '\',' +
               '\'' + ${#strings.escapeJavaScript(b.description)} + '\',' +
               '\'' + ${#strings.escapeJavaScript(b.image)} + '\',' +
             ')'">
        <img th:src="${b.image}" alt="ë„ì„œ ì¸ë„¤ì¼" class="card-thumbnail modal-bg.book"/>
      </div>
    </div><br><br><br><br>
    <div th:if="${book.size() == 0}"><h4>ê²€ìƒ‰ ìë£Œê°€ ì—†ìŠµë‹ˆë‹¤.</h4></div>
  </div>


      <!-- ë„ì„œ ëª¨ë‹¬ -->
      <div class = "detailBookModal" id="bookDetailModal" onclick="if(event.target===this){closeBookModal()}">
        <div class="search-modal-content">
          <img id="bookBg" class="modal-bg" src="" alt="ë°°ê²½"/>
          <div class="modal-info">
            <span class="modal-close" onclick="closeBookModal()">Ã—</span>
            <h1 id="bookTitle" class="modal-title"></h1>
            <ul class="modal-badges">
              <li id="bookYear"></li>
              <!--          <li id="modalGenre">ì¥ë¥´</li>-->
            </ul>
            <h5><p id="bookDes"></p></h5>
            <p id="bookSummary" class="modal-summary"></p>
                    <button id="modalSearchBtn" class="modal-play" disabled>ë„ì„œ êµ¬ë§¤í•˜ê¸°</button>
          </div>
        </div>
      </div>

    </div>

</main>
</body>
</html>

<script>

  /* ì¹´í…Œê³ ë¦¬ í† ê¸€ */
  function showCategory(id) {
    document.querySelectorAll('.category').forEach(c => c.style.display = 'none');
    document.getElementById(id).style.display = 'block';
  }

  document.addEventListener('DOMContentLoaded', () => showCategory('movie'));

  function showDetailModalMovie(title, releaseDate, summary, thumbnail) {
    /* ===== ì œëª© ===== */
    document.getElementById('movieTitle').textContent = title;
    /* ===== ì—°ë„ ===== */
    document.getElementById('movieYear').textContent = releaseDate.split('-')[0] || releaseDate;
    /* ===== ì˜í™” ë‚´ìš© ===== */
    document.getElementById('movieSummary').innerHTML = summary;
    /* ===== ì¸ë„¤ì¼ ===== */
    const img = document.getElementById('movieBg');
    img.src = thumbnail;

    /* ===== ëª¨ë‹¬ í‘œì‹œ ===== */
    document.getElementById('movieDetailModal').classList.add('active');

  }

  function youtubeMovie(title) {
    fetch(`/api/trailer/movie?title=${encodeURIComponent(title)}`)
    .then(res => res.json())
    .then(data => {
      if (data.movieVideoId) {
        const videoUrl = `https://www.youtube.com/watch?v=${data.movieVideoId}`;
        window.open(videoUrl, '_blank');
      } else {
        alert('ì˜í™”ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
    })
    .catch(() => alert('ì˜í™”ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'));
  }

  function showDetailModalMusic(title, releaseDate, summary, thumbnail, type, singer) {
    /* ===== ì œëª©Â·ì—°ë„ ===== */
    document.getElementById('musicTitle').textContent = title;
    document.getElementById('musicYear').textContent =
        releaseDate.split('-')[0] || releaseDate;
    document.getElementById("musicDes").textContent = "ê°€ì‚¬";
    document.getElementById("singer").textContent = singer;

    /* ===== ê°€ì‚¬Â·ì¤„ë°”ê¿ˆ ì²˜ë¦¬ ===== */
    const processedSummary = summary
    .replace(/\n/g, '<br>')      // ì¤„ë°”ê¿ˆ â†’ <br>
    .replace(/\[/g, '<br><br>[') // [ ì•ì— <br><br>
    .replace(/\]/g, ']<br>');    // ] ë’¤ì— <br>
    document.getElementById('musicSummary').innerHTML = processedSummary;

    /* ===== ì¸ë„¤ì¼ ===== */
    const img = document.getElementById('musicBg');
    img.src = thumbnail;

    /* ===== ëª¨ë‹¬ í‘œì‹œ ===== */
    document.getElementById('musicDetailModal').classList.add('active');

    // const searchBtn = document.getElementById('modalSearchMusicBtn');
    //
    // // ìŒì•… êµ¬ë§¤ ë²„íŠ¼
    // searchBtn.textContent = 'ìŒì•… êµ¬ë§¤í•˜ê¸° ì‚¬ì´íŠ¸ âœ';
    //
    // // í™œì„±í™” + í´ë¦­ ì´ë²¤íŠ¸
    // searchBtn.disabled = false;
    // searchBtn.onclick = () => {
    //   const query = encodeURIComponent(title);
    //   window.open(`https://www.youtube.com/search?q=${query}`, '_blank');
    // };
  }

  function showDetailModalBook(title, releaseDate, summary, thumbnail, type) {
    /* ===== ì œëª©Â·ì—°ë„ ===== */
    document.getElementById('bookTitle').textContent = title;
    document.getElementById('bookYear').textContent =
        releaseDate.split('-')[0] || releaseDate;

    document.getElementById("bookDes").textContent = "ì±… ì†Œê°œ";

    /* ===== ë„ì„œ ë‚´ìš© ===== */
    document.getElementById('bookSummary').innerHTML = summary;

    /* ===== ì¸ë„¤ì¼ ===== */
    const img = document.getElementById('bookBg');
    img.src = thumbnail;

    /* ===== ëª¨ë‹¬ í‘œì‹œ ===== */
    document.getElementById('bookDetailModal').classList.add('active');

    /* ===== ê²€ìƒ‰ ë²„íŠ¼ ===== */
    const searchBtn = document.getElementById('modalSearchBtn');

    // ì±… êµ¬ë§¤ ë²„íŠ¼
    searchBtn.textContent = 'ì±… êµ¬ë§¤í•˜ëŸ¬ ê°€ê¸° âœ' ;

    // í™œì„±í™” + í´ë¦­ ì´ë²¤íŠ¸
    searchBtn.disabled = false;
    searchBtn.onclick = () => {
      const query = encodeURIComponent(title);
      window.open(`https://www.yes24.com/product/search?domain=ALL&query=${query}`, '_blank');
    };
  }

  /* ì˜í™” ëª¨ë‹¬ ë‹«ê¸° */
  function closeMovieModal() {
    document.querySelector('.detailMovieModal').classList.remove('active');
    const searchBtn = document.getElementById('movieDetailModal');
    searchBtn.disabled = true;
    searchBtn.onclick = null; // ì´ë²¤íŠ¸ ë¦¬ì…‹
  }

  /* ìŒì•… ëª¨ë‹¬ ë‹«ê¸° */
  function closeMusicModal() {
    document.querySelector('.detailMusicModal').classList.remove('active');
    const searchBtn = document.getElementById('musicDetailModal');
    searchBtn.disabled = true;
    searchBtn.onclick = null; // ì´ë²¤íŠ¸ ë¦¬ì…‹
  }

  /* ë„ì„œ ëª¨ë‹¬ ë‹«ê¸° */
  function closeBookModal() {
    document.querySelector('.detailBookModal').classList.remove('active');
    const searchBtn = document.getElementById('bookDetailModal');
    searchBtn.disabled = true;
    searchBtn.onclick = null; // ì´ë²¤íŠ¸ ë¦¬ì…‹
  }

  function showMovieTrailer(title) {
    // ì˜í™” ì˜ˆê³ í¸
    fetch(`/api/trailer/movie?title=${encodeURIComponent(title)}`)
    .then(res => res.json())
    .then(data => {
      if (data.movieVideoId) {
        const iframe = document.getElementById('trailerMovieIframe');
        iframe.src = `https://www.youtube.com/embed/${data.movieVideoId}?autoplay=1`;
        document.getElementById('trailerMovieModal').style.display = 'flex';
      } else {
        alert('ì˜ˆê³ í¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
    })
    .catch(() => alert('ì˜í™”ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'));

  }

  function showMusicTrailer(title) {
    // ìŒì•… ìœ íŠœë¸Œ ì‹¤í–‰
    fetch(`/api/trailer/music?title=${encodeURIComponent(title)}`)
    .then(res => res.json())
    .then(data => {
      if (data.musicVideoId) {
        const iframe = document.getElementById('trailerMusicIframe');
        iframe.src = `https://www.youtube.com/embed/${data.musicVideoId}?autoplay=1`;
        document.getElementById('trailerMusicModal').style.display = 'flex';
      } else {
        alert('ìŒì•…ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
    })
    .catch(() => alert('ìŒì•…ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'));

  }

  function closeTrailerModal(modalId, iframeId) {
    const modal = document.getElementById(modalId);
    const iframe = document.getElementById(iframeId);

    if (modal && iframe) {
      iframe.src = '';
      modal.style.display = 'none';
    }
  }

  function handleModalBackgroundClick(event) {
    if (event.target.id === 'trailerModal') {
      closeTrailerModal();
    }
  }

  // ì¥ë¥´ ì„ íƒ ë²„íŠ¼
  document.querySelectorAll('.genre-btn').forEach((btn) => {
    btn.addEventListener('click', (e) => {
      const type = e.target.dataset.type;   // ì»¨í…ì¸  íƒ€ì…
      const genre = e.target.dataset.genre; // ì¥ë¥´

      // ì˜ˆì‹œ: ì½˜ì†” ì¶œë ¥
      console.log(`ì„ íƒëœ ì½˜í…ì¸  íƒ€ì…: ${type}`);
      console.log(`ì„ íƒëœ ì¥ë¥´: ${genre}`);

      // ì½˜í…ì¸  ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜ í˜¸ì¶œ
      fetchContentByGenre(type, genre);
    });
  });

  // ì¥ë¥´ë¡œ ê²€ìƒ‰
  function fetchContentByGenre(type, genre) {
    // ì˜ˆì‹œ: ì„œë²„ì— ìš”ì²­ ë³´ë‚´ëŠ” ê²½ìš°
    // fetch(`/api/content?type=${type}&genre=${genre}`)
    //   .then(res => res.json())
    //   .then(data => renderContent(data));

    // ê°„ë‹¨í•œ ë°ëª¨ìš© ê°€ì§œ ë°ì´í„°
    const dummyData = {

      movie: {
        ì¶”ë¦¬ì†Œì„¤: [{ title: 'ì‚´ì¸ì˜ ì¶”ì–µ', thumbnail: 'img1.jpg', releaseDate: '2003', summary: 'ì‚´ì¸ì‚¬ê±´ ì‹¤í™” ë°”íƒ• ì˜í™”' }],
        ìŠ¤ë¦´ëŸ¬: [{ title: 'ê¸°ìƒì¶©', thumbnail: 'img2.jpg', releaseDate: '2019', summary: 'ê³„ì¸µì˜ ì´ì•¼ê¸°' }]
      },
      music: {
        ë°œë¼ë“œ: [{ title: 'ì‹ í˜¸ë“±', thumbnail: 'img3.jpg', releaseDate: '2021', summary: 'ì´ë¬´ì§„ì˜ íˆíŠ¸ê³¡' }]
      }
    };

    const contentList = dummyData[type]?.[genre] || [];
    renderContentByType(type, contentList);
  }

  /// íƒ€ì…ì— ë”°ë¼ ì½˜í…ì¸  ë Œë”ë§ ìœ„ì¹˜ë¥¼ ë‹¤ë¥´ê²Œ ì²˜ë¦¬
  function renderContentByType(type, contentList) {
    let container;

    if (type === 'movie') {
      container = document.querySelector('#movie .card-container');
    } else if (type === 'music') {
      // ìŒì•… ê²°ê³¼ ë³´ì—¬ì¤„ ë³„ë„ ì˜ì—­ ìˆì–´ì•¼ í•¨
      container = document.querySelector('#music .card-container');
    } else if (type === 'book') {
      // ë„ì„œ ì˜ì—­ë„ ë§ˆì°¬ê°€ì§€ë¡œ ë³„ë„ í•„ìš”
      container = document.querySelector('#book .card-container');
    }

    if (!container) return;

    if (contentList.length === 0) {
      container.innerHTML = `<h4>ê²€ìƒ‰ ìë£Œê°€ ì—†ìŠµë‹ˆë‹¤.</h4>`;
      return;
    }

    // ì¹´ë“œ í˜•íƒœë¡œ ì½˜í…ì¸  ë Œë”ë§
    container.innerHTML = contentList
    .map((item) => `
        <div class="card-${type}">
          <img src="${item.thumbnail}" alt="${item.title}" class="card-thumbnail" />
          <h4>${item.title}</h4>
          <p>${item.summary}</p>
        </div>
      `)
    .join('');
  }


</script>
